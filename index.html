<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Controle de Estoque - Bar</title>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
  <div class="sidebar" id="sidebar">
    <div class="toggle-btn" onclick="toggleSidebar()">â˜°</div>
    <h2>Controle do Bar</h2>
    <ul>
      <li onclick="mostrarSecao('registro')">ðŸ“¦ <span>Registrar Estoque</span></li>
      <li onclick="mostrarSecao('comparar')">ðŸ“Š <span>Comparar Estoque</span></li>
      <li onclick="mostrarSecao('alertas')">ðŸš¨ <span>Alertas de Desvio</span></li>
    </ul>
  </div>

  <div class="main-content">
    <div class="data-container">
      <small id="current-date"></small>
      <button onclick="testarConexao()" class="btn-teste">ðŸ”Œ Testar ConexÃ£o</button>
    </div>

    <div class="container" id="registro">
      <h1>Registro DiÃ¡rio de Estoque</h1>
      <div class="form-group">
        <label for="data-registro">Data do Registro:</label>
        <input type="date" id="data-registro" value="">
      </div>
      <div class="form-group">
        <label for="categoria">Categoria:</label>
        <select id="categoria" onchange="filtrarProdutos()">
          <option value="">-- Todas --</option>
          <option value="4 - Cervejas LONGNECK">Cervejas LONGNECK</option>
          <option value="5 - REFRIGERANTES">Refrigerantes</option>
          <option value="9- ENERGÃ‰TICOS LATA">EnergÃ©ticos</option>
        </select>
      </div>
      <div id="produtos-lista"></div>
    </div>

    <div class="container" id="comparar" style="display:none">
      <h1>ComparaÃ§Ã£o de Estoque</h1>
      <div class="form-group">
        <label for="data-comparacao">Selecione a Data:</label>
        <input type="date" id="data-comparacao">
        <button onclick="carregarComparacao()">Comparar</button>
      </div>
      <div id="resultado-comparacao"></div>
    </div>

    <div class="container" id="alertas" style="display:none">
      <h1>Alertas de PossÃ­veis Desvios</h1>
      <div class="form-group">
        <label for="tolerancia">TolerÃ¢ncia (unidades):</label>
        <input type="number" id="tolerancia" value="2" min="0">
        <button onclick="verificarDesvios()">Verificar</button>
      </div>
      <div id="lista-alertas"></div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>